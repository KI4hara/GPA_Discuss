<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: content: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
    <script src="components/loader.js"></script>
    <link rel="stylesheet" href="components/loader.css">
    <link rel="stylesheet" href="css/style.css">    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script>
    <!-- MQTT送信用のJavaScriptコード -->
    <script src="mqtt-publish.js"></script>
    
</head>
<body>
	 <h1>MQTT Test</h1>
    <video id="video" width="320" height="240" autoplay></video>
    <!-- カメラ表示のためのcanvas -->
    <canvas id="canvas" width="320" height="240" style="display:none;"></canvas>
    <button id="startButton">音声認識を開始</button>
    <div id="result"></div>
    <script src="main.js"></script>
    <button onclick="send_voice()">voice</button>
    <select id="letterSelect" onchange="showSelectedLetter()">
    <option value="">選択してください</option>
    <option value="A">A</option>
    <option value="B">B</option>
    <option value="C">C</option>
    <option value="D">D</option>
    <option value="E">E</option>
    <option value="F">F</option>
    <option value="G">G</option>
</select>
     <!-- カメラ表示のためのcanvas -->
    <canvas id="canvas2" width="320" height="240"></canvas>
    <div id="response"></div>
    <br>

</body>

<script>
    var selectedLetter ='';
    function showSelectedLetter() {
        // ドロップダウンメニューから選ばれた文字を取得
        selectedLetter = document.getElementById('letterSelect').value;
        // 結果を表示する
    }
      // ビデオ要素の取得
      var video = document.getElementById("video");

      // カメラの使用許可をリクエスト
      navigator.mediaDevices.getUserMedia({ video: true })
        .then(function(stream) {
          // ビデオ要素にストリームを設定
          video.srcObject = stream;
          video.play();
        })
        .catch(function(error) {
          console.log("Error getting video stream:", error);
        });

</script>


</html>
